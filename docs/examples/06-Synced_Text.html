<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>To Do List - Obj.JS</title>
  <script src='../Obj.js'></script>
</head>
<body>
  <script>
    var EditableText = Obj({
      text: "",
      render: function(){
        var self = this, $text;
        $text = document.createElement("p");
        $text.setAttribute("contenteditable", true);
        $text.innerText = this.text;
        $text.addEventListener('keyup', function(){
          self.text = $text.innerText;
        });
        return $text;
      },
      refresh: function(element, property, value){
        if(property == "text"){
          if(element != document.activeElement){
            element.innerText = value;
          }
        }
      },
      init: function(initialText){
        this.text = initialText;
      }
    });

    var edit = new EditableText("Edit Me");

    Obj.render(edit, document.body);
    Obj.render(edit, document.body);
  </script>
</body>
</html>
